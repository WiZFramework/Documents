<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<link href="css/main.css" rel="stylesheet" type="text/css">
<title>言語を作ろうプロジェクト（2020年）</title>
</head>
<body>
<!-- 全体コンテナ　-->
<div id="container">
<div id="header">
<h3>１３．シンプルな実装をする</h3>
</div>
<!-- コンテンツ　-->
<div id="contents">
<h3>１３－０２．今後の制作とスタックマシン</h3>
　今回の<b>C言語を作る</b>では、最終的には<b>スタックマシン</b>という形で実装しようと思っています。<br />
　<b>スタックマシン</b>というのは、プログラムのコード実行を実装するにあたって、<b>スタック</b>の考え方を利用するということです。<br />
　例えば<b>10+30</b>という演算があった場合、コードの配列は<b>10、30、+</b>と並んでいます。これは<b>.yファイル</b>に演算の優先順位を的確に記述することで、このような並びになります。
　そのとき、スタック操作は
<div class="box1">
<pre>
１、10をpush
２、30をpush
３、プラス演算とわかるので、30をpop
４、10の場所（スタックの先頭）に30を加算
５、結果としてスタックの先頭は40になる
</pre>
</div>
　で、表現できます。<br />
　例えば、そのあと、<b>出力命令</b>があった場合、スタックをpopし（40を取得）、それを出力すればいいことになります。<br />
　基本的にこの考えかたで、スタック操作しながら<b>実行</b>を実装します。
<h4>実際の実装</h4>
　しかしながら、いきなり<b>スタックマシン</b>を実装するのは、ちょっと無理があると判断しました。<br />
　<b>順次処理</b>はある程度うまくいくのですが、分岐やループ、関数定義や関数呼び出しを、いきなりスタックマシン用に記述するのは、至難の業と分かりました。<br />
　ですので、いったん<b>oreProject</b>のように、階層化された式や文を作成し、<b>oreProject</b>のように、いったんトレースしながら実行する状態を作り出したのち、そこから<b>ニーモニック</b>を生成する処理を記述していきたいと思います。<br />
　道のりは長いですが<b>言語作成</b>というのは、この間、いろいろ実験してみて感じたことですが、<b>急いではあかん</b>ということです。一度決めた方針やアイディアが、文法によっては、その手法では表現できない部分が多々出てきます。そういった経験を踏まえ、少しづつ制作していきたいと思います。<br />

</div>
<!-- /コンテンツ　-->
<hr>
<!-- フッタ　-->
<ul class="foot_navi">
<li><a href="13_01.html">前ページ</a></li>
<li><a href="index.html">目次</a></li>
<li><a href="13_03.html">次ページ</a></li>
</ul>
<!-- /フッタ　-->
</div>
<!-- /全体コンテナ　-->
</body>
</html>
