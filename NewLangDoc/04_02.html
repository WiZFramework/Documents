<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<link href="css/main.css" rel="stylesheet" type="text/css">
<title>言語を作ろうプロジェクト（2018年）</title>
</head>
<body>
<!-- 全体コンテナ　-->
<div id="container">
<div id="header">
<h3>０４．インタプリタの作成</h3>
</div>
<!-- コンテンツ　-->
<div id="contents">
<h3>０４－０２．最初のソース</h3>
　まず<b>oreProject</b>の<b>ヘッダーファイル</b>を<b>右クリック</b>し<b>追加－新しい項目</b>で
<div class="box1">
<pre>
util.h
</pre>
</div>
　を追加します。<br />
　続いて、<b>oreProject</b>の<b>ソースファイル</b>を<b>右クリック</b>し<b>追加－新しい項目</b>で
<div class="box1">
<pre>
interpreter.cpp
value.cpp
</pre>
</div>
　そのうえで、各ファイルを以下のように書き換えます。まず、先ほど追加した<b>oreProject</b>側の<b>util.h</b>です。
<h4>util.hの記述</h4>
　コードが長いので別ページにしてあります。<br />
　以下のリンクをクリックしてください。<br />
　<a href="04_02util_h.html"><b>util.h</b></a>
<h4>proc.hの書き換え</h4>
　<b>proc.h</b>を書き換えます。<br />
　以下のリンクをクリックしてください。<br />
　<a href="04_02proc_h.html"><b>proc.h</b></a>
<h4>proc.cppの書き換え</h4>
　続いて<b>proc.cpp</b>です。<br />
　同様、別ページにしてありますので、以下をクリックしてください。<br/>
　<a href="04_02proc_cpp.html"><b>proc.cpp</b></a>
<h4>interpreter.cppの記述</h4>
　続いて先ほど作成した<b>interpreter.cpp</b>です。<br />
　以下をクリックください。<br />
　<a href="04_02interpreter_cpp.html" ><b>interpreter.cpp</b></a>
<h4>value.cppの記述</h4>
　続いて先ほど作成した<b>value.cpp</b>です。<br />
　以下をクリックください。<br />
　<a href="04_02value_cpp.html" ><b>value.cpp</b></a>
<h4>main.cppの書き換え</h4>
　続いて<b>main.cpp</b>です。<br />
　以下をクリックください。<br />
　<a href="04_02main_cpp.html" ><b>main.cpp</b></a>
<h4>oreProject.lの書き換え</h4>
　続いて、FlexBison側の<b>oreProject.l</b>です。<br />
　以下をクリックください。<br />
　<a href="04_02oreProject_l.html" ><b>oreProject.l</b></a>
<h4>oreProject.yの書き換え</h4>
　続いて、FlexBison側の<b>oreProject.y</b>です。<br />
　以下をクリックください。<br />
　<a href="04_02oreProject_y.html" ><b>oreProject.y</b></a>
<h4>index.oreの書き換え</h4>
　最後に<b>index.ore</b>です。テスト用のスクリプトを記述します。
<div class="box1">
<pre>
aaa = 5;
aaa += 10;
pn aaa;
aaa = 15 * (aaa + 20.5);
pn aaa;
</pre>
</div>
<h4>ビルドと実行</h4>
　<b>リビルド</b>して<b>デバッグなしで実行</b>します。以下の出力が得られれば成功です。
<div class="box1">
<pre>
15
532.5

...\oreProject\Debug\oreProject.exe (プロセス 6488) は、コード 0 を伴って終了しました。
このウィンドウを閉じるには、任意のキーを押してください . . .
</pre>
</div>
　では次項で解説します。
</div>
<!-- /コンテンツ　-->
<hr>
<!-- フッタ　-->
<ul class="foot_navi">
<li><a href="04_01.html">前ページ</a></li>
<li><a href="index.html">目次</a></li>
<li><a href="04_03.html">次ページ</a></li>
</ul>
<!-- /フッタ　-->
</div>
<!-- /全体コンテナ　-->
</body>
</html>
